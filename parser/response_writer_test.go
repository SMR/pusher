// +build go1.8

package parser

import (
	"net/http"
	"net/http/httptest"
	"net/url"
	"testing"

	"golang.org/x/net/html"
)

func TestWrite(t *testing.T) {

	u, _ := url.Parse("/")

	request := &http.Request{
		Method: "GET",
		URL:    u,
	}

	recorder := httptest.NewRecorder()
	writer := newResponseWriter(recorder, request)

	writer.Write([]byte(testHTML))
	if recorder.Body == nil {
		t.Fatal("nil body")
	}
	if len(testHTML) != len(recorder.Body.Bytes()) {
		t.Fatal()
	}

	if 1024 != len(writer.body.Bytes()) {
		t.Fatal()
	}

	links := make(map[string]struct{})
	z := html.NewTokenizer(writer.body)

TOKENIZER:
	for {
		tt := z.Next()

		switch {
		case tt == html.ErrorToken:
			// End of the document, we're done
			break TOKENIZER
		case tt == html.StartTagToken:
			t := z.Token()

			if t.Data == "a" {
				for _, a := range t.Attr {
					if a.Key == "href" && !isAbsolute(a.Val) && a.Val != writer.path {
						links[a.Val] = struct{}{}
						break
					}
				}
			}

			if t.Data == "link" {
				for _, link := range t.Attr {
					if link.Key == "href" && !isAbsolute(link.Val) && link.Val != writer.path {
						links[link.Val] = struct{}{}
						break
					}
				}
			}

			if t.Data == "script" {
				for _, script := range t.Attr {
					if script.Key == "src" && !isAbsolute(script.Val) && script.Val != writer.path {
						links[script.Val] = struct{}{}
						break
					}
				}
			}
		}
	}

	var linkSlice []string
	if len(links) > 64 {
		linkSlice = make([]string, 64)
	} else {
		linkSlice = make([]string, len(links))
	}
	index := 0
	for key := range links {
		if index >= len(linkSlice) {
			break
		}
		linkSlice[index] = key
		index++
	}

	t.Log(linkSlice)

}

func BenchmarkWrite(b *testing.B) {

	u, _ := url.Parse("/")

	request := &http.Request{
		Method: "GET",
		URL:    u,
	}

	recorder := httptest.NewRecorder()
	writer := newResponseWriter(recorder, request)

	b.ResetTimer()
	for n := 0; n < b.N; n++ {

		writer.Write([]byte(testHTML))

		links := make(map[string]struct{})
		z := html.NewTokenizer(writer.body)

	TOKENIZER:
		for {
			tt := z.Next()

			switch {
			case tt == html.ErrorToken:
				// End of the document, we're done
				break TOKENIZER
			case tt == html.StartTagToken:
				t := z.Token()

				if t.Data == "a" {
					for _, a := range t.Attr {
						if a.Key == "href" && !isAbsolute(a.Val) && a.Val != writer.path {
							links[a.Val] = struct{}{}
							break
						}
					}
				}

				if t.Data == "link" {
					for _, link := range t.Attr {
						if link.Key == "href" && !isAbsolute(link.Val) && link.Val != writer.path {
							links[link.Val] = struct{}{}
							break
						}
					}
				}

				if t.Data == "script" {
					for _, script := range t.Attr {
						if script.Key == "src" && !isAbsolute(script.Val) && script.Val != writer.path {
							links[script.Val] = struct{}{}
							break
						}
					}
				}
			}
		}

		var linkSlice []string
		if len(links) > 64 {
			linkSlice = make([]string, 64)
		} else {
			linkSlice = make([]string, len(links))
		}
		index := 0
		for key := range links {
			if index >= len(linkSlice) {
				break
			}
			linkSlice[index] = key
			index++
		}

	}

}

var testHTML = `<html><head> <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui"> <title>Middelware Vet</title> <link rel="stylesheet" type="text/css" href="/assets/css/min/bundle.min.css"> <script async="" src="https://www.google-analytics.com/analytics.js"></script><script type="text/javascript" src="/assets/js/min/bundle.min.js"></script> <link rel="preconnect" href="//www.google-analytics.com/analytics.js" crossorigin=""> </head> <body> <div class="header"> <h1><a href="/">Go Middleware Vet</a></h1> <input id="search" class="package-search" placeholder="search">  </div> <div class="sub-header"> <h3> Finding high quality net/http middleware for go is hard. Middleware get outdated, have only partial support or fail to comply with basic net/http semantics in other ways. The httpmiddlewarevet project aims to provide developers with a clearer picture of which handlers are good net/http citizens and which are not. </h3> </div> <mr-search words="[&quot;github.com/didip/tollbooth&quot;,&quot;github.com/gorilla/handlers&quot;,&quot;github.com/jpillora/ipfilter&quot;,&quot;github.com/justinas/alice&quot;,&quot;github.com/NYTimes/gziphandler&quot;,&quot;github.com/prometheus/client_golang/prometheus&quot;,&quot;github.com/romainmenke/pusher&quot;,&quot;github.com/thoas/stats&quot;,&quot;github.com/vulcand/oxy&quot;,&quot;net/http&quot;]" input-field="search"> <div class="wrapper"> <div class="report"> <div class="report__version__menu"> <h2> <mr-active-nav> <a href="/?v=master">Master</a> </mr-active-nav> </h2> <h2> <mr-active-nav> <a href="/">Go 1.8</a> </mr-active-nav> </h2>  <h2> <mr-active-nav> <a href="/?v=1.7.5">Go 1.7.5</a> </mr-active-nav> </h2>  <h2> <mr-active-nav> <a href="/?v=1.6.4">Go 1.6.4</a> </mr-active-nav> </h2>  </div> <ul class="package-list">  <li> <div class="package-list__item"> <mr-closer anchor="github.com/didip/tollbooth" class="closer closed"> <div id="github.com/didip/tollbooth" class="package-list__item__title passed searchable"> <h2> github.com/didip/tollbooth </h2> </div> <div class="handler-list closeable"> <ul>  <li class="handler-list__item"> <div class="handler-list__item__header"> <h2 class="handler-list__item__header__name"> LimitHandler </h2>   <div class="handler-list__item__header__proto passed"> <h3>HTTP/1.1</h3> </div>  <div class="handler-list__item__header__proto passed"> <h3>HTTP/1.1+TLS</h3> </div>  <div class="handler-list__item__header__proto passed"> <h3>HTTP/2.0</h3> </div>   </div> <ul class="test-list">  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>context.Context</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.CloseNotifier</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Flusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Hijacker</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Pusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>io.ReaderFrom</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.Proto</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.TLS</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  </ul>  </li>  </ul> <div class="package-list__item__shield"> <div class="package-list__item__shield__img"> <img src="/assets/svg/passed.svg" alt="passed"> </div> <div class="package-list__item__shield__link"> <p>[![MiddlewareVet](https://middleware.vet/github.com/didip/tollbooth.svg)](https://middleware.vet#github.com/didip/tollbooth)</p> </div> </div> </div> </mr-closer> </div>  </li>  <li> <div class="package-list__item"> <mr-closer anchor="github.com/gorilla/handlers" class="closer closed"> <div id="github.com/gorilla/handlers" class="package-list__item__title failed searchable"> <h2> github.com/gorilla/handlers </h2> </div> <div class="handler-list closeable"> <ul>  <li class="handler-list__item"> <div class="handler-list__item__header"> <h2 class="handler-list__item__header__name"> CompressHandler </h2>   <div class="handler-list__item__header__proto failed"> <h3>HTTP/1.1</h3> </div>  <div class="handler-list__item__header__proto failed"> <h3>HTTP/1.1+TLS</h3> </div>  <div class="handler-list__item__header__proto failed"> <h3>HTTP/2.0</h3> </div>   </div> <ul class="test-list">  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>context.Context</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.CloseNotifier</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Flusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title failed"> <h3>http.Hijacker</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  </div>       <div class="test-list__item__message"> <p>HTTP/2.0 : http.ResponseWriter must not implement http.Hijacker</p> </div>    </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title failed"> <h3>http.Pusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  </div>       <div class="test-list__item__message"> <p>HTTP/2.0 : http.ResponseWriter must implement http.Pusher</p> </div>    </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title failed"> <h3>io.ReaderFrom</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>   <div class="test-list__item__message"> <p>HTTP/1.1 : http.ResponseWriter must implement io.ReaderFrom</p> </div>    <div class="test-list__item__message"> <p>HTTP/1.1+TLS : http.ResponseWriter must implement io.ReaderFrom</p> </div>      </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.Proto</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.TLS</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  </ul>  </li>  <li class="handler-list__item"> <div class="handler-list__item__header"> <h2 class="handler-list__item__header__name"> CompressHandlerLevel </h2>   <div class="handler-list__item__header__proto failed"> <h3>HTTP/1.1</h3> </div>  <div class="handler-list__item__header__proto failed"> <h3>HTTP/1.1+TLS</h3> </div>  <div class="handler-list__item__header__proto failed"> <h3>HTTP/2.0</h3> </div>   </div> <ul class="test-list">  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>context.Context</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.CloseNotifier</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Flusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title failed"> <h3>http.Hijacker</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  </div>       <div class="test-list__item__message"> <p>HTTP/2.0 : http.ResponseWriter must not implement http.Hijacker</p> </div>    </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title failed"> <h3>http.Pusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  </div>       <div class="test-list__item__message"> <p>HTTP/2.0 : http.ResponseWriter must implement http.Pusher</p> </div>    </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title failed"> <h3>io.ReaderFrom</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>   <div class="test-list__item__message"> <p>HTTP/1.1 : http.ResponseWriter must implement io.ReaderFrom</p> </div>    <div class="test-list__item__message"> <p>HTTP/1.1+TLS : http.ResponseWriter must implement io.ReaderFrom</p> </div>      </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.Proto</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.TLS</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  </ul>  </li>  </ul> <div class="package-list__item__shield"> <div class="package-list__item__shield__img"> <img src="/assets/svg/failed.svg" alt="failed"> </div> <div class="package-list__item__shield__link"> <p>[![MiddlewareVet](https://middleware.vet/github.com/gorilla/handlers.svg)](https://middleware.vet#github.com/gorilla/handlers)</p> </div> </div> </div> </mr-closer> </div>  </li>  <li> <div class="package-list__item"> <mr-closer anchor="github.com/jpillora/ipfilter" class="closer closed"> <div id="github.com/jpillora/ipfilter" class="package-list__item__title passed searchable"> <h2> github.com/jpillora/ipfilter </h2> </div> <div class="handler-list closeable"> <ul>  <li class="handler-list__item"> <div class="handler-list__item__header"> <h2 class="handler-list__item__header__name"> Wrap </h2>   <div class="handler-list__item__header__proto passed"> <h3>HTTP/1.1</h3> </div>  <div class="handler-list__item__header__proto passed"> <h3>HTTP/1.1+TLS</h3> </div>  <div class="handler-list__item__header__proto passed"> <h3>HTTP/2.0</h3> </div>   </div> <ul class="test-list">  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>context.Context</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.CloseNotifier</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Flusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Hijacker</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Pusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>io.ReaderFrom</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.Proto</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.TLS</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  </ul>  </li>  </ul> <div class="package-list__item__shield"> <div class="package-list__item__shield__img"> <img src="/assets/svg/passed.svg" alt="passed"> </div> <div class="package-list__item__shield__link"> <p>[![MiddlewareVet](https://middleware.vet/github.com/jpillora/ipfilter.svg)](https://middleware.vet#github.com/jpillora/ipfilter)</p> </div> </div> </div> </mr-closer> </div>  </li>  <li> <div class="package-list__item"> <mr-closer anchor="github.com/justinas/alice" class="closer closed"> <div id="github.com/justinas/alice" class="package-list__item__title passed searchable"> <h2> github.com/justinas/alice </h2> </div> <div class="handler-list closeable"> <ul>  <li class="handler-list__item"> <div class="handler-list__item__header"> <h2 class="handler-list__item__header__name"> Then </h2>   <div class="handler-list__item__header__proto passed"> <h3>HTTP/1.1</h3> </div>  <div class="handler-list__item__header__proto passed"> <h3>HTTP/1.1+TLS</h3> </div>  <div class="handler-list__item__header__proto passed"> <h3>HTTP/2.0</h3> </div>   </div> <ul class="test-list">  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>context.Context</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.CloseNotifier</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Flusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Hijacker</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Pusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>io.ReaderFrom</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.Proto</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.TLS</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  </ul>  </li>  </ul> <div class="package-list__item__shield"> <div class="package-list__item__shield__img"> <img src="/assets/svg/passed.svg" alt="passed"> </div> <div class="package-list__item__shield__link"> <p>[![MiddlewareVet](https://middleware.vet/github.com/justinas/alice.svg)](https://middleware.vet#github.com/justinas/alice)</p> </div> </div> </div> </mr-closer> </div>  </li>  <li> <div class="package-list__item"> <mr-closer anchor="github.com/NYTimes/gziphandler" class="closer closed"> <div id="github.com/NYTimes/gziphandler" class="package-list__item__title failed searchable"> <h2> github.com/NYTimes/gziphandler </h2> </div> <div class="handler-list closeable"> <ul>  <li class="handler-list__item"> <div class="handler-list__item__header"> <h2 class="handler-list__item__header__name"> GzipHandler </h2>   <div class="handler-list__item__header__proto failed"> <h3>HTTP/1.1</h3> </div>  <div class="handler-list__item__header__proto failed"> <h3>HTTP/1.1+TLS</h3> </div>  <div class="handler-list__item__header__proto failed"> <h3>HTTP/2.0</h3> </div>   </div> <ul class="test-list">  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>context.Context</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title failed"> <h3>http.CloseNotifier</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  </div>   <div class="test-list__item__message"> <p>HTTP/1.1 : http.ResponseWriter must implement http.CloseNotifier</p> </div>    <div class="test-list__item__message"> <p>HTTP/1.1+TLS : http.ResponseWriter must implement http.CloseNotifier</p> </div>    <div class="test-list__item__message"> <p>HTTP/2.0 : http.ResponseWriter must implement http.CloseNotifier</p> </div>    </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Flusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title failed"> <h3>http.Hijacker</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  </div>       <div class="test-list__item__message"> <p>HTTP/2.0 : http.ResponseWriter must not implement http.Hijacker</p> </div>    </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title failed"> <h3>http.Pusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>   <div class="test-list__item__message"> <p>HTTP/1.1 : http.ResponseWriter must not implement http.Pusher</p> </div>    <div class="test-list__item__message"> <p>HTTP/1.1+TLS : http.ResponseWriter must not implement http.Pusher</p> </div>      </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title failed"> <h3>io.ReaderFrom</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>   <div class="test-list__item__message"> <p>HTTP/1.1 : http.ResponseWriter must implement io.ReaderFrom</p> </div>    <div class="test-list__item__message"> <p>HTTP/1.1+TLS : http.ResponseWriter must implement io.ReaderFrom</p> </div>      </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.Proto</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.TLS</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  </ul>  </li>  </ul> <div class="package-list__item__shield"> <div class="package-list__item__shield__img"> <img src="/assets/svg/failed.svg" alt="failed"> </div> <div class="package-list__item__shield__link"> <p>[![MiddlewareVet](https://middleware.vet/github.com/NYTimes/gziphandler.svg)](https://middleware.vet#github.com/NYTimes/gziphandler)</p> </div> </div> </div> </mr-closer> </div>  </li>  <li> <div class="package-list__item"> <mr-closer anchor="github.com/prometheus/client_golang/prometheus" class="closer closed"> <div id="github.com/prometheus/client_golang/prometheus" class="package-list__item__title failed searchable"> <h2> github.com/prometheus/client_golang/prometheus </h2> </div> <div class="handler-list closeable"> <ul>  <li class="handler-list__item"> <div class="handler-list__item__header"> <h2 class="handler-list__item__header__name"> InstrumentHandler </h2>   <div class="handler-list__item__header__proto passed"> <h3>HTTP/1.1</h3> </div>  <div class="handler-list__item__header__proto passed"> <h3>HTTP/1.1+TLS</h3> </div>  <div class="handler-list__item__header__proto failed"> <h3>HTTP/2.0</h3> </div>   </div> <ul class="test-list">  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title failed"> <h3>context.Context</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  </div>       <div class="test-list__item__message"> <p>HTTP/2.0 : skipped: http.ResponseWriter is not http.Flusher</p> </div>    </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title failed"> <h3>http.CloseNotifier</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  </div>       <div class="test-list__item__message"> <p>HTTP/2.0 : skipped: http.ResponseWriter is not http.Flusher</p> </div>    </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title failed"> <h3>http.Flusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  </div>       <div class="test-list__item__message"> <p>HTTP/2.0 : http.ResponseWriter must implement http.Flusher</p> </div>    </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Hijacker</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title failed"> <h3>http.Pusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  </div>       <div class="test-list__item__message"> <p>HTTP/2.0 : http.ResponseWriter must implement http.Pusher</p> </div>    </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>io.ReaderFrom</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.Proto</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.TLS</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  </ul>  </li>  </ul> <div class="package-list__item__shield"> <div class="package-list__item__shield__img"> <img src="/assets/svg/failed.svg" alt="failed"> </div> <div class="package-list__item__shield__link"> <p>[![MiddlewareVet](https://middleware.vet/github.com/prometheus/client_golang/prometheus.svg)](https://middleware.vet#github.com/prometheus/client_golang/prometheus)</p> </div> </div> </div> </mr-closer> </div>  </li>  <li> <div class="package-list__item"> <mr-closer anchor="github.com/romainmenke/pusher" class="closer closed"> <div id="github.com/romainmenke/pusher" class="package-list__item__title passed searchable"> <h2> github.com/romainmenke/pusher </h2> </div> <div class="handler-list closeable"> <ul>  <li class="handler-list__item"> <div class="handler-list__item__header"> <h2 class="handler-list__item__header__name"> link.Handler </h2>   <div class="handler-list__item__header__proto passed"> <h3>HTTP/1.1</h3> </div>  <div class="handler-list__item__header__proto passed"> <h3>HTTP/1.1+TLS</h3> </div>  <div class="handler-list__item__header__proto passed"> <h3>HTTP/2.0</h3> </div>   </div> <ul class="test-list">  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>context.Context</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.CloseNotifier</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Flusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Hijacker</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Pusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>io.ReaderFrom</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.Proto</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.TLS</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  </ul>  </li>  </ul> <div class="package-list__item__shield"> <div class="package-list__item__shield__img"> <img src="/assets/svg/passed.svg" alt="passed"> </div> <div class="package-list__item__shield__link"> <p>[![MiddlewareVet](https://middleware.vet/github.com/romainmenke/pusher.svg)](https://middleware.vet#github.com/romainmenke/pusher)</p> </div> </div> </div> </mr-closer> </div>  </li>  <li> <div class="package-list__item"> <mr-closer anchor="github.com/thoas/stats" class="closer closed"> <div id="github.com/thoas/stats" class="package-list__item__title failed searchable"> <h2> github.com/thoas/stats </h2> </div> <div class="handler-list closeable"> <ul>  <li class="handler-list__item"> <div class="handler-list__item__header"> <h2 class="handler-list__item__header__name"> Handler </h2>   <div class="handler-list__item__header__proto failed"> <h3>HTTP/1.1</h3> </div>  <div class="handler-list__item__header__proto failed"> <h3>HTTP/1.1+TLS</h3> </div>  <div class="handler-list__item__header__proto failed"> <h3>HTTP/2.0</h3> </div>   </div> <ul class="test-list">  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>context.Context</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.CloseNotifier</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Flusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title failed"> <h3>http.Hijacker</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  </div>       <div class="test-list__item__message"> <p>HTTP/2.0 : http.ResponseWriter must not implement http.Hijacker</p> </div>    </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title failed"> <h3>http.Pusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  </div>       <div class="test-list__item__message"> <p>HTTP/2.0 : http.ResponseWriter must implement http.Pusher</p> </div>    </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title failed"> <h3>io.ReaderFrom</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>   <div class="test-list__item__message"> <p>HTTP/1.1 : http.ResponseWriter must implement io.ReaderFrom</p> </div>    <div class="test-list__item__message"> <p>HTTP/1.1+TLS : http.ResponseWriter must implement io.ReaderFrom</p> </div>      </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.Proto</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.TLS</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  </ul>  </li>  </ul> <div class="package-list__item__shield"> <div class="package-list__item__shield__img"> <img src="/assets/svg/failed.svg" alt="failed"> </div> <div class="package-list__item__shield__link"> <p>[![MiddlewareVet](https://middleware.vet/github.com/thoas/stats.svg)](https://middleware.vet#github.com/thoas/stats)</p> </div> </div> </div> </mr-closer> </div>  </li>  <li> <div class="package-list__item"> <mr-closer anchor="github.com/vulcand/oxy" class="closer closed"> <div id="github.com/vulcand/oxy" class="package-list__item__title passed searchable"> <h2> github.com/vulcand/oxy </h2> </div> <div class="handler-list closeable"> <ul>  <li class="handler-list__item"> <div class="handler-list__item__header"> <h2 class="handler-list__item__header__name"> forward.ServeHTTP </h2>   <div class="handler-list__item__header__proto passed"> <h3>HTTP/1.1</h3> </div>  <div class="handler-list__item__header__proto passed"> <h3>HTTP/1.1+TLS</h3> </div>  <div class="handler-list__item__header__proto passed"> <h3>HTTP/2.0</h3> </div>   </div> <ul class="test-list">  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>context.Context</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.CloseNotifier</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Flusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Hijacker</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Pusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>io.ReaderFrom</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.Proto</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.TLS</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  </ul>  </li>  </ul> <div class="package-list__item__shield"> <div class="package-list__item__shield__img"> <img src="/assets/svg/passed.svg" alt="passed"> </div> <div class="package-list__item__shield__link"> <p>[![MiddlewareVet](https://middleware.vet/github.com/vulcand/oxy.svg)](https://middleware.vet#github.com/vulcand/oxy)</p> </div> </div> </div> </mr-closer> </div>  </li>  <li> <div class="package-list__item"> <mr-closer anchor="net/http" class="closer closed"> <div id="net/http" class="package-list__item__title passed searchable"> <h2> net/http </h2> </div> <div class="handler-list closeable"> <ul>  <li class="handler-list__item"> <div class="handler-list__item__header"> <h2 class="handler-list__item__header__name"> Handler </h2>   <div class="handler-list__item__header__proto passed"> <h3>HTTP/1.1</h3> </div>  <div class="handler-list__item__header__proto passed"> <h3>HTTP/1.1+TLS</h3> </div>  <div class="handler-list__item__header__proto passed"> <h3>HTTP/2.0</h3> </div>   </div> <ul class="test-list">  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>context.Context</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.CloseNotifier</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Flusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Hijacker</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>http.Pusher</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>io.ReaderFrom</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.Proto</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  <li class="test-list__item">   <div class="test-list__item__overview"> <div class="test-list__item__overview__title passed"> <h3>request.TLS</h3> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  <div class="proto-list__item"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div>  </div>         </li>  </ul>  </li>  </ul> <div class="package-list__item__shield"> <div class="package-list__item__shield__img"> <img src="/assets/svg/passed.svg" alt="passed"> </div> <div class="package-list__item__shield__link"> <p>[![MiddlewareVet](https://middleware.vet/net/http.svg)](https://middleware.vet#net/http)</p> </div> </div> </div> </mr-closer> </div>  </li>  </ul> </div>  <div class="legend"> <div class="legend__item"> <div class="legend__item__icon"> <img src="/assets/svg/passed-test.svg" alt="passed"> </div> <p> http.Handler correctly implements the interface for this Proto and Go Version. </p> </div> <div class="legend__item"> <div class="legend__item__icon"> <img src="/assets/svg/failed-test.svg" alt="failed"> </div> <p> http.Handler does not implements the interface for this Proto and Go Version. </p> </div> <div class="legend__item"> <div class="legend__item__icon"> <img src="/assets/svg/skipped-test.svg" alt="skipped"> </div> <p> Test was skipped. </p> </div> <div class="legend__item"> <div class="legend__item__icon"> <img src="/assets/svg/passed.svg" alt="passed shield"> </div> <p> Package passed all tests. </p> </div> <div class="legend__item"> <div class="legend__item__shield"> <img src="/assets/svg/failed.svg" alt="failed shield"> </div> <p> Package failed one or more tests. </p> </div> </div>  </div> </mr-search> <div class="footer"> <div class="footer__links"> <a href="/"><p>Home</p></a> <a href="/about"><p>About</p></a> <a href="/dev"><p>Dev</p></a> <a href="https://github.com/fd/httpmiddlewarevet" target="_blank"><p>Github</p></a> </div> <div class="footer__info"> <p>By <a href="https://github.com/fd" target="_blank">fd</a> &amp; <a href="https://github.com/romainmenke" target="_blank">romainmenke</a></p> </div> </div>   <footer> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-91869239-1', 'auto'); ga('send', 'pageview'); </script> </footer>  </body></html>`
